# 流体力学パーティクルシステム概要

## 概要

このドキュメントでは、マウスカーソルの動きに合わせて流体力学的に動作するパーティクルシステムの概要と元の実装の分析について説明します。元の実装はWebGLを直接使用していますが、新しい実装ではThree.jsを使用して同様の視覚効果を実現します。

## 元の実装の分析

元の実装（`index-91c257438e1e5263.js`）は以下の主要コンポーネントで構成されています：

### 1. 流体シミュレーション

流体シミュレーションは以下のステップで実装されています：

- 速度場の計算と更新
- 速度場の発散の計算
- 圧力の計算（ポアソン方程式の解法）
- 圧力勾配による速度場の修正

これらの計算はGPUシェーダーを使用して行われ、テクスチャとして結果が保存されます。

### 2. パーティクルシステム

パーティクルシステムは以下の特性を持ちます：

- パーティクルの位置、速度、寿命などの属性をテクスチャとして管理
- パーティクルの動きは流体シミュレーションの速度場に基づいて更新
- パーティクルの描画はポイントスプライトとして実装

### 3. マウスインタラクション

マウスの動きは以下のように処理されます：

- マウスの位置と移動速度を追跡
- マウスの動きを速度場に反映させ、流体の動きを誘発
- マウスカーソル周辺のパーティクルに特別な視覚効果を適用

## まとめ

Three.jsを使用して、元のWebGL実装と同様の流体力学的パーティクルシステムを実現します。GPUベースの計算を活用して、リアルタイムでインタラクティブな視覚効果を提供します。

このドキュメントは元の仕様書から分割されたものです。アーキテクチャの詳細については `fluid-particles-architecture.md` を、技術的な課題と解決策については `fluid-particles-technical-challenges.md` を参照してください。実装の詳細は `tasks/` ディレクトリ内の各ファイルに記載されています。